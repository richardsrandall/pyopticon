<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pyopticon package &mdash; pyopticon 0.2.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            pyopticon
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery.html">Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../capabilities.html">Capabilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial_1.html">Tutorial: Using an Existing Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial_2.html">Tutorial: Building Your Own Dashboards</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial_3.html">Tutorial: Writing Your Own Widgets</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial_4.html">Tutorial: Miscellaneous Useful Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../available_widgets.html">Widgets Made by PyOpticon Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">pyopticon</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">pyopticon package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/pyopticon/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="pyopticon-package">
<h1>pyopticon package<a class="headerlink" href="#pyopticon-package" title="Permalink to this heading"></a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this heading"></a></h2>
<div class="toctree-wrapper compound">
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading"></a></h2>
</section>
<section id="module-pyopticon.dashboard">
<span id="pyopticon-dashboard-module"></span><h2>pyopticon.dashboard module<a class="headerlink" href="#module-pyopticon.dashboard" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pyopticon.dashboard.PyOpticonDashboard">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyopticon.dashboard.</span></span><span class="sig-name descname"><span class="pre">PyOpticonDashboard</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dashboard_name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.dashboard.PyOpticonDashboard" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A Dashboard is our term for a GUI window containing various ‘widgets’. A standalone program should initialize, configure, and run each dashboard. 
One dashboard may contain many widgets, each representing a physical device or some other functionality.</p>
<p>See the tutorials for examples of initializing and populating a dashboard. Generally, the workflow is to:</p>
<ul class="simple">
<li><p>Initialize a dashboard</p></li>
<li><p>Initialize widgets and add them to the dashboard</p></li>
<li><p>Define any desired interlocks and add them to the dashboard</p></li>
<li><p>Launch the dashboard</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dashboard_name</strong> (<em>str</em>) – The name of the dashboard, which appears in any data logging files that the dashboard creates.</p></li>
<li><p><strong>offline_mode</strong> (<em>bool</em><em>, </em><em>optional</em>) – Defaults to False. If True, doesn’t attempt to build any serial.Serial objects, and widgets may also check to behave differently.</p></li>
<li><p><strong>polling_interval_ms</strong> (<em>int</em><em>, </em><em>optional</em>) – The interval for polling all connected devices, in milliseconds. Defaults to 1000. You may want to use a larger interval if certain devices are slow to poll, or polling them involves blocking code (not recommended).</p></li>
<li><p><strong>window_resizeable</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether or not you can manually resize the dashboard by dragging and dropping the corner. Defaults to false. If True, the window is resizeable, but the widgets don’t scale or center themselves.</p></li>
<li><p><strong>persistent_console_logfile</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether or not to log console events to a persistent file (same throughout multiple dashboard relaunches) in the same directory as the dashboard initialization script.</p></li>
<li><p><strong>print_stacktraces</strong> (<em>bool</em><em>, </em><em>optional</em>) – If true, exception stack traces are printed to console; if false, only to the logfile. Exception names are printed regardless.</p></li>
<li><p><strong>x_pad</strong> (<em>int</em><em>, </em><em>optional</em>) – The horizontal pad between widgets, in pixels.</p></li>
<li><p><strong>y_pad</strong> (<em>int</em><em>, </em><em>optional</em>) – The vertical pad between widgets, in pixels.</p></li>
<li><p><strong>socket_ports</strong> (<em>list</em><em>, </em><em>optional</em>) – A list of integer ports on which to open sockets for client connections. Defaults to [12345].</p></li>
<li><p><strong>include_auto_widget</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether or not to display an automation widget on the dashboard.</p></li>
<li><p><strong>include_socket_widget</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether or not to display a socket widget on the dashboard.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.dashboard.PyOpticonDashboard.add_widget">
<span class="sig-name descname"><span class="pre">add_widget</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">widget</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.dashboard.PyOpticonDashboard.add_widget" title="Permalink to this definition"></a></dt>
<dd><p>Add a widget to the dashboard at the specified row and column, each indexed from 0. 
Note that rows 0-3 in column 0 are reserved for the four dashboard control widgets. 
If the specified grid coordinates are already occupied, add_widget hides the 
widget that was there before. It warns to console if the widget added shares a name or nickname with an existing widget.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>widget</strong> (<a class="reference internal" href="#pyopticon.generic_widget.GenericWidget" title="pyopticon.generic_widget.GenericWidget"><em>pyopticon.generic_widget.GenericWidget</em></a><em> or </em><a class="reference internal" href="../documentation.html#pyopticon.minimal_widget.MinimalWidget" title="pyopticon.minimal_widget.MinimalWidget"><em>pyopticon.minimal_widget.MinimalWidget</em></a>) – The widget to add to the dashboard</p></li>
<li><p><strong>row</strong> (<em>int</em>) – The row in the dashboard’s Tkinter grid at which to place the widget, indexed from 0</p></li>
<li><p><strong>column</strong> (<em>int</em>) – The column in the dashboard’s Tkinter grid at which to place the widget, indexed from 0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.dashboard.PyOpticonDashboard.add_interlock">
<span class="sig-name descname"><span class="pre">add_interlock</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fn</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.dashboard.PyOpticonDashboard.add_interlock" title="Permalink to this definition"></a></dt>
<dd><p>Add an interlock function that will be called once every polling cycle.</p>
<p>You’ll probably want to define such a function in the same file where the dashboard is constructed. 
You can use the dashboard’s get_field and/or get_widgets_by_nickname methods to check whether 
the system state violates a certain interlock condition (e.g., a certain temperature reading is too high), 
and then respond accordingly (e.g., use the dashboard’s set_field method to shut off the flow of reactive gases, or 
use the gmail_helper module to email or text the operator that something has gone wrong).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fn</strong> (<em>function</em>) – The interlock function to add. Should take no arguments and return nothing.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.dashboard.PyOpticonDashboard.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.dashboard.PyOpticonDashboard.start" title="Permalink to this definition"></a></dt>
<dd><p>Launch the dashboard, including all necessary threads.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.dashboard.PyOpticonDashboard.exc_handler">
<span class="sig-name descname"><span class="pre">exc_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'system'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">widget</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.dashboard.PyOpticonDashboard.exc_handler" title="Permalink to this definition"></a></dt>
<dd><p>Handle an exception according to the protocol configured when the dashboard was launched. Generate a 
message about what subprocess raised the exception.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>exc</strong> (<em>Exception</em>) – The Exception being raised</p></li>
<li><p><strong>source</strong> (<em>str</em><em>, </em><em>optional</em>) – The source of the exception according to a scheme outlined in the if-statement in the function definition. Defaults to ‘system’.</p></li>
<li><p><strong>widget</strong> (<em>str</em><em>, </em><em>optional</em>) – The nickname of the widget that raised the exception, if applicable</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.dashboard.PyOpticonDashboard.check_offline_mode">
<span class="sig-name descname"><span class="pre">check_offline_mode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.dashboard.PyOpticonDashboard.check_offline_mode" title="Permalink to this definition"></a></dt>
<dd><p>Check whether dashboard is in offline mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Whether the dashboard is in offline mode.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
<p>return self.offline_mode</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.dashboard.PyOpticonDashboard.check_serial_connected">
<span class="sig-name descname"><span class="pre">check_serial_connected</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.dashboard.PyOpticonDashboard.check_serial_connected" title="Permalink to this definition"></a></dt>
<dd><p>Check whether serial is currently connected</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Whether the dashboard’s serial is connected.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.dashboard.PyOpticonDashboard.get_field">
<span class="sig-name descname"><span class="pre">get_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_widget_nickname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_field</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.dashboard.PyOpticonDashboard.get_field" title="Permalink to this definition"></a></dt>
<dd><p>Get the current value of a certain field of a certain widget. The field must have been created with the 
add_field method of the GenericWidget class. To access an instance variable of a widget, use get_widget_by_nickname instead. 
To see a list of widgets’ nicknames and fields, run the dashboard and use the ‘automation help’ button.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_widget_nickname</strong> (<em>str</em>) – The nickname of the widget</p></li>
<li><p><strong>target_field</strong> (<em>str</em>) – The name of the field to read</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The value of the field that you queried</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.dashboard.PyOpticonDashboard.set_field">
<span class="sig-name descname"><span class="pre">set_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_widget_nickname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">confirm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.dashboard.PyOpticonDashboard.set_field" title="Permalink to this definition"></a></dt>
<dd><p>Set the value of a certain field of a certain widget and, optionally, execute the widget’s confirm function. 
The field must have been created with the add_field method of the GenericWidget class. 
To modify an instance variable of a widget, use get_widget_by_nickname instead. 
To see a list of widgets’ nicknames and fields, run the dashboard and use the ‘automation help’ button.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>target_widget_nickname</strong> (<em>str</em>) – The nickname of the widget</p></li>
<li><p><strong>target_field</strong> (<em>str</em>) – The name of the field to modify</p></li>
<li><p><strong>new_value</strong> (<em>str</em>) – The new value for the field. Fields’ values are always stored as strings, even if they represent numbers.</p></li>
<li><p><strong>confirm</strong> (<em>bool</em>) – Whether or not to execute the widget’s confirm function, which usually sends a command to the physical device based on the newly updated field.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.dashboard.PyOpticonDashboard.get_widget_by_nickname">
<span class="sig-name descname"><span class="pre">get_widget_by_nickname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nickname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.dashboard.PyOpticonDashboard.get_widget_by_nickname" title="Permalink to this definition"></a></dt>
<dd><p>Get a certain widget based on its nickname. 
To see a list of widgets’ nicknames and fields, run the dashboard and use the ‘automation help’ button.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>target_widget_nickname</strong> (<em>str</em>) – The nickname of the widget</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The corresponding widget</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#pyopticon.generic_widget.GenericWidget" title="pyopticon.generic_widget.GenericWidget">pyopticon.generic_widget.GenericWidget</a> or <a class="reference internal" href="../documentation.html#pyopticon.minimal_widget.MinimalWidget" title="pyopticon.minimal_widget.MinimalWidget">pyopticon.minimal_widget.MinimalWidget</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.dashboard.PyOpticonDashboard.get_widgets_by_nickname">
<span class="sig-name descname"><span class="pre">get_widgets_by_nickname</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.dashboard.PyOpticonDashboard.get_widgets_by_nickname" title="Permalink to this definition"></a></dt>
<dd><p>Get a dict that maps widgets’ nicknames to the corresponding widget objects. Widgets that were added with no or None nicknames are excluded.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dict mapping nicknames (str) to widgets (GenericWidget)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.dashboard.PyOpticonDashboard.get_tkinter_object">
<span class="sig-name descname"><span class="pre">get_tkinter_object</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.dashboard.PyOpticonDashboard.get_tkinter_object" title="Permalink to this definition"></a></dt>
<dd><p>Get the dashboard’s Tkinter frame object, through which Tkinter functions like after() can be accessed.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The dashboard’s Tkinter frame object.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tkinter.Tk</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.dashboard.PyOpticonDashboard.scale_all_text">
<span class="sig-name descname"><span class="pre">scale_all_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scale_factor</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.dashboard.PyOpticonDashboard.scale_all_text" title="Permalink to this definition"></a></dt>
<dd><p>Go through all the widgets and scale the font on any tkinter Label, Text, OptionMenu, or Button objects. 
Meant as a quick fix for using dashboards on smaller or larger screems.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>scale_factor</strong> (<em>float</em>) – A factor by which to scale text, e.g. 1.2. Values are calculated in font units and are rounded to the nearest int.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="pyopticon-generic-serial-emulator-module">
<h2>pyopticon.generic_serial_emulator module<a class="headerlink" href="#pyopticon-generic-serial-emulator-module" title="Permalink to this heading"></a></h2>
</section>
<section id="module-pyopticon.generic_widget">
<span id="pyopticon-generic-widget-module"></span><h2>pyopticon.generic_widget module<a class="headerlink" href="#module-pyopticon.generic_widget" title="Permalink to this heading"></a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="pyopticon.generic_widget.GenericWidget">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pyopticon.generic_widget.</span></span><span class="sig-name descname"><span class="pre">GenericWidget</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parent_dashboard</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nickname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.generic_widget.GenericWidget" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is the superclass for all widgets representing physical devices. It contains a lot of the machinery for 
generating GUI elements, setting up a serial connection, and logging data, so that subclass implementation is mostly defining the 
input/output fields and the serial communication protocol for a given instrument.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parent_dashboard</strong> (<a class="reference internal" href="#pyopticon.dashboard.PyOpticonDashboard" title="pyopticon.dashboard.PyOpticonDashboard"><em>pyopticon.dashboard.PyOpticonDashboard</em></a>) – The dashboard object to which this device will be added</p></li>
<li><p><strong>name</strong> (<em>str</em>) – The name that the widget will be labeled with, and under which its data will be logged, e.g. “Methane Mass Flow Controller”</p></li>
<li><p><strong>nickname</strong> (<em>str</em>) – A shortened nickname that can be used to identify the widget in automation scripts, e.g. “CH4 MFC”</p></li>
<li><p><strong>color</strong> (<em>str</em>) – The color of the widget’s frame, as a RGB hex string, e.g. ‘#00FF00’</p></li>
<li><p><strong>use_serial</strong> (<em>bool</em><em>, </em><em>optional</em>) – True if this widget needs to have a serial connection; False otherwise. Defaults to True.</p></li>
<li><p><strong>default_serial_port</strong> (<em>str</em><em>, </em><em>optional</em>) – The name of the default selected serial port, e.g. ‘COM9’</p></li>
<li><p><strong>default_serial_port</strong> – The name of the default selected serial port, e.g. ‘COM9’. Required unless no_serial is True.</p></li>
<li><p><strong>baudrate</strong> (<em>int</em><em>, </em><em>optional</em>) – The baud rate of the serial connection, as an integer, e.g. 19200. Required unless no_serial is True or build_serial_object is overridden.</p></li>
<li><p><strong>widget_to_share_thread_with</strong> (<a class="reference internal" href="#pyopticon.generic_widget.GenericWidget" title="pyopticon.generic_widget.GenericWidget"><em>pyopticon.generic_widget.GenericWidget</em></a><em>, </em><em>optional</em>) – A widget whose thread this widget will share, rather than creating its own. If use_serial = True, it’s assumed the widget will share the serial.Serial object.</p></li>
<li><p><strong>update_every_n_cycles</strong> – Set the widget to poll its serial connection for updates every n cycles. Useful for instruments that poll slowly for some reason, or whose state changes infrequently. Defaults to 1.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.generic_widget.GenericWidget.on_failed_serial_open">
<span class="sig-name descname"><span class="pre">on_failed_serial_open</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.generic_widget.GenericWidget.on_failed_serial_open" title="Permalink to this definition"></a></dt>
<dd><p>This function is called when the Dashboard attempts to open a Serial port and it fails for some 
reason. It can be used to set the readout fields to ‘None’ or something, if desired.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.generic_widget.GenericWidget.on_handshake">
<span class="sig-name descname"><span class="pre">on_handshake</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.generic_widget.GenericWidget.on_handshake" title="Permalink to this definition"></a></dt>
<dd><p>This function gets called whenever the widget is initialized. If the widget uses a Serial connection, you can assume 
that the serial connection was already initialized successfully. If not, you’ll need to initialize whatever objects are needed 
to update the widget in this method (say, an OEM Python driver).</p>
<p>By default, it just calls on_update(), assuming that the handshake was successful if (and only if) no exception was raised.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.generic_widget.GenericWidget.on_update">
<span class="sig-name descname"><span class="pre">on_update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.generic_widget.GenericWidget.on_update" title="Permalink to this definition"></a></dt>
<dd><p>This function gets called once every polling interval when the dashboard prompts each device to update itself. 
It should be overridden in a subclass implementation; if not, it prints a warning.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.generic_widget.GenericWidget.on_confirm">
<span class="sig-name descname"><span class="pre">on_confirm</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.generic_widget.GenericWidget.on_confirm" title="Permalink to this definition"></a></dt>
<dd><p>This function gets called whenever a widget’s ‘confirm’ button is pressed, which should result in a command (reflecting the latest entries in user input fields) getting sent through the serial connection. 
This method should be overridden in a subclass implementation, unless the widget has no user input fields. If it’s called without being implemented in the subclass, a warning is printed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.generic_widget.GenericWidget.on_serial_close">
<span class="sig-name descname"><span class="pre">on_serial_close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.generic_widget.GenericWidget.on_serial_close" title="Permalink to this definition"></a></dt>
<dd><p>This function gets called whenever serial connections are closed. It should be overridden in a subclass implementation. 
Usually, this function sets readout fields to something like ‘no reading’ after serial communications are closed. 
Note that while the other user-defined methods run in the widget’s thread, this method runs immediately in the main 
GUI thread, ensuring that the serial connection closure happens immediately.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.generic_widget.GenericWidget.add_field">
<span class="sig-name descname"><span class="pre">add_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">field_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.generic_widget.GenericWidget.add_field" title="Permalink to this definition"></a></dt>
<dd><p>Adds a field (i.e., a text entry box, a dropdown menu, or a text display) to the widget.</p>
<p>Adding a field is like making an instance variable for the widget, 
except 1) the GUI elements get autogenerated for you and 2) fields’ values are, by default, logged whenever the dashboard’s data logging is active. 
This method is meant to streamline adding input and output fields, though you can of course define your own instance variables, configure data logging, 
and add GUI elements by hand to the tkinter frame from widget.get_frame() if you want more granular control. Underlying each field is a tkinter StringVar bound to some tkinter GUI element.</p>
<p>If you add the first input field to a widget, a ‘Confirm’ button will also automatically be generated and placed. Use the move_confirm_button method to change its location.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>field_type</strong> (<em>str</em>) – Valid options are ‘text output’, ‘text input’, ‘dropdown’, or ‘button’</p></li>
<li><p><strong>name</strong> (<em>str</em>) – The name of the field, which will be used to identify it for automation and for data logging</p></li>
<li><p><strong>label</strong> (<em>str</em>) – The text label that will appear to the left of the field. This may differ from the name if you want to include units or abbreviate the label; e.g., the name might be ‘Temperature’ and the label might be ‘Temp. (C)’. If this argument is ‘’ (an empty string), no label is added.</p></li>
<li><p><strong>default_value</strong> (<em>str</em>) – The starting value that appears in the field</p></li>
<li><p><strong>options</strong> (<em>list</em><em>, </em><em>optional</em>) – The options in the dropdown option menu. Required if field_type is ‘dropdown’, ignored otherwise.</p></li>
<li><p><strong>log</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether or not to log this field’s contents when the dashboard’s data logging is active. Defaults to True.</p></li>
<li><p><strong>custom_stringvar</strong> (<em>tkinter.StringVar</em><em>, </em><em>optional</em>) – If you want to pass a pre-existing tkinter StringVar to be bound to the field’s GUI element, rather than letting this method initialize a new one.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.generic_widget.GenericWidget.do_threadsafe">
<span class="sig-name descname"><span class="pre">do_threadsafe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">to_do</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.generic_widget.GenericWidget.do_threadsafe" title="Permalink to this definition"></a></dt>
<dd><p>Feeds the specified function to tkinter’s after() method with a delay of 0, so that it will be executed in a thread-safe way.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>to_do</strong> (<em>function</em>) – The function to execute.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.generic_widget.GenericWidget.get_field">
<span class="sig-name descname"><span class="pre">get_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">which_field</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.generic_widget.GenericWidget.get_field" title="Permalink to this definition"></a></dt>
<dd><p>Get the current value of the specified field.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>which_field</strong> (<em>str</em>) – The name of the field whose value to get.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The current value of the specified field</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.generic_widget.GenericWidget.set_field">
<span class="sig-name descname"><span class="pre">set_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">which_field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hush_warning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.generic_widget.GenericWidget.set_field" title="Permalink to this definition"></a></dt>
<dd><p>Set the value of the specified field to a specified value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>which_field</strong> (<em>str</em>) – The name of the field whose value to set.</p></li>
<li><p><strong>new_value</strong> (<em>str</em>) – The value to which to set the specified field.</p></li>
<li><p><strong>hush_warning</strong> (<em>True</em>) – Silence the warning when you set a field while a widget’s serial isn’t connected.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.generic_widget.GenericWidget.log_data">
<span class="sig-name descname"><span class="pre">log_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.generic_widget.GenericWidget.log_data" title="Permalink to this definition"></a></dt>
<dd><p>Generate a dict of data that is sent to the dashboard’s data logging script. The dict contains the current values of 
all fields that were created using add_field with the option log=True. This method may be overridden in a subclass if you 
would like to do some kind of preprocessing on data before it’s logged, e.g. stripping out units or typecasting to int or float.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dict of the widget’s loggable fields and their current values</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.generic_widget.GenericWidget.disable_field">
<span class="sig-name descname"><span class="pre">disable_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">which_field</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.generic_widget.GenericWidget.disable_field" title="Permalink to this definition"></a></dt>
<dd><p>Grey out an input field so that it can’t be interacted with.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>which_field</strong> (<em>str</em>) – The name of the field that will be greyed out.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.generic_widget.GenericWidget.enable_field">
<span class="sig-name descname"><span class="pre">enable_field</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">which_field</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.generic_widget.GenericWidget.enable_field" title="Permalink to this definition"></a></dt>
<dd><p>Un-grey out an input field that had previously been greyed out, allowing it to be interacted with again.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>which_field</strong> (<em>Str</em>) – The name of the field to re-enable.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.generic_widget.GenericWidget.move_confirm_button">
<span class="sig-name descname"><span class="pre">move_confirm_button</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">column</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.generic_widget.GenericWidget.move_confirm_button" title="Permalink to this definition"></a></dt>
<dd><p>Move the confirm button, which is automatically placed when using the add_field method to add an input field.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>row</strong> (<em>int</em>) – The row at which to place the confirm button, indexed from 0</p></li>
<li><p><strong>column</strong> (<em>int</em>) – The column at which to place the confirm button, indexed from 0</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.generic_widget.GenericWidget.override_color">
<span class="sig-name descname"><span class="pre">override_color</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_color</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.generic_widget.GenericWidget.override_color" title="Permalink to this definition"></a></dt>
<dd><p>Manually change the color of a widget’s frame to something besides its default defined in its constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>new_color</strong> (<em>str</em>) – The new color, in hex, e.g. ‘#FF00FF’</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.generic_widget.GenericWidget.confirm">
<span class="sig-name descname"><span class="pre">confirm</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.generic_widget.GenericWidget.confirm" title="Permalink to this definition"></a></dt>
<dd><p>Method executed when the Confirm button is pressed. Checks whether serial is connected and unfocuses any input field that’s focused, then 
calls the on_confirm method that is hopefully defined in a subclass.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.generic_widget.GenericWidget.close_serial">
<span class="sig-name descname"><span class="pre">close_serial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.generic_widget.GenericWidget.close_serial" title="Permalink to this definition"></a></dt>
<dd><p>Closes the serial object, if needed, and returns the GUI fields to their default non-connected states. Executes on_serial_close, which is hopefully implemented in a subclass.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.generic_widget.GenericWidget.get_serial_object">
<span class="sig-name descname"><span class="pre">get_serial_object</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.generic_widget.GenericWidget.get_serial_object" title="Permalink to this definition"></a></dt>
<dd><p>Get the serial object that this widget is using</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>This widget’s serial object, which is probably a Pyserial Serial object.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>serial.Serial</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.generic_widget.GenericWidget.show_serial">
<span class="sig-name descname"><span class="pre">show_serial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.generic_widget.GenericWidget.show_serial" title="Permalink to this definition"></a></dt>
<dd><p>Show the serial port selector and status GUI elements, if they were hidden</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.generic_widget.GenericWidget.hide_serial">
<span class="sig-name descname"><span class="pre">hide_serial</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.generic_widget.GenericWidget.hide_serial" title="Permalink to this definition"></a></dt>
<dd><p>Hide the serial port selector and status GUI elements</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.generic_widget.GenericWidget.update_serial_ports">
<span class="sig-name descname"><span class="pre">update_serial_ports</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_serial_options</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.generic_widget.GenericWidget.update_serial_ports" title="Permalink to this definition"></a></dt>
<dd><p>Update the dropdown list of available serial ports</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>new_serial_options</strong> (<em>list</em>) – The new list of available serial ports</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pyopticon.generic_widget.GenericWidget.get_frame">
<span class="sig-name descname"><span class="pre">get_frame</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyopticon.generic_widget.GenericWidget.get_frame" title="Permalink to this definition"></a></dt>
<dd><p>Get the tkinter frame on which this object is drawn.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The widget’s tkinter frame</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>tkinter.Frame</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-pyopticon">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pyopticon" title="Permalink to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Richard Randall.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>